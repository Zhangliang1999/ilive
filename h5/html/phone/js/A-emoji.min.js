function A_Emoji(g,e){var f=g;defaults={emojiconfig:{qq:{name:"qq表情",path:"img/qq/",maxNum:100,file:".gif",placeholder:":{alias}:",alias:{1:"微笑",2:"撇嘴",3:"色",4:"发呆",5:"得意",6:"流泪",7:"害羞",8:"闭嘴",9:"睡",10:"大哭",11:"尴尬",12:"发怒",13:"调皮",14:"龇牙",15:"惊讶",16:"难过",17:"酷",18:"冷汗",19:"抓狂",20:"吐",21:"偷笑",22:"可爱",23:"白眼",24:"傲慢",25:"饥饿",26:"困",27:"惊恐",28:"流汗",29:"憨笑",30:"大兵",31:"奋斗",32:"咒骂",33:"疑问",34:"嘘",35:"晕",36:"折磨",37:"衰",38:"骷髅",39:"敲打",40:"再见",41:"擦汗",42:"抠鼻",43:"鼓掌",44:"糗大了",45:"坏笑",46:"左哼哼",47:"右哼哼",48:"哈欠",49:"鄙视",50:"委屈",51:"快哭了",52:"阴险",53:"亲亲",54:"吓",55:"可怜",56:"菜刀",57:"西瓜",58:"啤酒",59:"篮球",60:"乒乓",61:"咖啡",62:"饭",63:"猪头",64:"玫瑰",65:"凋谢",66:"示爱",67:"爱心",68:"心碎",69:"蛋糕",70:"闪电",71:"炸弹",72:"刀",73:"足球",74:"瓢虫",75:"便便",76:"月亮",77:"太阳",78:"礼物",79:"拥抱",80:"强",81:"弱",82:"握手",83:"胜利",84:"抱拳",85:"勾引",86:"拳头",87:"差劲",88:"爱你",89:"NO",90:"OK",91:"爱情",92:"飞吻",93:"跳跳",94:"发抖",95:"怄火",96:"转圈",97:"磕头",98:"回头",99:"跳绳",100:"挥手"},title:{1:"微笑",2:"撇嘴",3:"色",4:"发呆",5:"得意",6:"流泪",7:"害羞",8:"闭嘴",9:"睡",10:"大哭",11:"尴尬",12:"发怒",13:"调皮",14:"龇牙",15:"惊讶",16:"难过",17:"酷",18:"冷汗",19:"抓狂",20:"吐",21:"偷笑",22:"可爱",23:"白眼",24:"傲慢",25:"饥饿",26:"困",27:"惊恐",28:"流汗",29:"憨笑",30:"大兵",31:"奋斗",32:"咒骂",33:"疑问",34:"嘘",35:"晕",36:"折磨",37:"衰",38:"骷髅",39:"敲打",40:"再见",41:"擦汗",42:"抠鼻",43:"鼓掌",44:"糗大了",45:"坏笑",46:"左哼哼",47:"右哼哼",48:"哈欠",49:"鄙视",50:"委屈",51:"快哭了",52:"阴险",53:"亲亲",54:"吓",55:"可怜",56:"菜刀",57:"西瓜",58:"啤酒",59:"篮球",60:"乒乓",61:"咖啡",62:"饭",63:"猪头",64:"玫瑰",65:"凋谢",66:"示爱",67:"爱心",68:"心碎",69:"蛋糕",70:"闪电",71:"炸弹",72:"刀",73:"足球",74:"瓢虫",75:"便便",76:"月亮",77:"太阳",78:"礼物",79:"拥抱",80:"强",81:"弱",82:"握手",83:"胜利",84:"抱拳",85:"勾引",86:"拳头",87:"差劲",88:"爱你",89:"NO",90:"OK",91:"爱情",92:"飞吻",93:"跳跳",94:"发抖",95:"怄火",96:"转圈",97:"磕头",98:"回头",99:"跳绳",100:"挥手"}}}};var c=f.find(".emojiBox");emojiconfig=defaults.emojiconfig;var h=f.find("#saytext");var b=f.find(".emojiBox");var a=f.find('[data="emoji"]');var d=[];a.click(function(){$(".hiddenDiv").empty();var n=c.find(".emoji_container");if(n.children().length<=0){c.css({display:"block"});for(var m in emojiconfig){n.append('<section class="for_'+m+'"></section>');for(var l=1;l<=emojiconfig[m].maxNum;l++){var k=parseInt(99+l);var j=parseInt(l);if(n.find(".for_"+m)!==undefined){n.find(".for_"+m).append('<a href="#!" class="_img"><img src="'+emojiconfig[m].path+k+emojiconfig[m].file+'" alt="" data-alias="'+(emojiconfig[m].alias==undefined?(l+emojiconfig[m].file):emojiconfig[m].alias[l])+'" title="'+(emojiconfig[m].title==undefined?"":emojiconfig[m].title[j])+'" /></a>')}}}c.find(".emoji_container section")[0].style.display="block";c.find(".emoji_container ._img").on("click",function(){if(h){$(".hiddenDiv").append(this.innerHTML);setTimeout(function(){var o=$(".hiddenDiv").find("img");var i=o.attr("title");console.log(i);var p=$("#saytext").val()+"["+i+"]";console.log(p);$("#saytext").val(p);if($(".textarea").val().length!=0){$(".sendMessage").removeAttr("disabled").css("background","#0084ff")}else{$(".sendMessage").css("background","#b2daff")}},100);c.css({display:"none"})}else{alert(2);h.append("["+$(this).find("img").attr("data-alias")+"]")}})}else{c.toggle()}});f.find('[data="confirm"]').on("click",function(){addRow({detail:h.html()});if(e){e()}$(".emojiBox").css("display","none")});$(document).on("click",function(i){if((c.find($(i.target)).length)<=0&&(f.find($(i.target)).length<=0)){c.hide()}})}function addRow(a){arr=emojiconfig.qq.title};